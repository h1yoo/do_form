/***
 * 전자결재 연동 양식(html)에 추가될 javascript
 * @author : 홍수영 <sue7ky@daou.co.kr>
 * html 밑에 script tag로 끼는 것도 되고, admin page에서 경로 넣는 것도 됨.
 <script>$.getScript("https://int-badev.daouoffice.com/resources/test.js", function( data, textStatus, jqxhr ) {});</script>
 */

(function() {
	var variables = GO.util.store.get('document.variables');
	var variablesData = {
			status : variables.status
	};


	//양식에 쓰이는 함수객체 
	var Formfunc = (function() {
		var _variable = {}; //variables 데이터를 가지고 있는 private변수
		var docMode = '';

		/***
		 * 테이블을 그린다.
		 */
		function render() {
			if (docMode == "EDIT") {

			}

		}

		/***
		 * Private 변수를 set한다. 
		 */
		function setData(data, mode) {
			_variable = data;
			docMode = mode;
		}

		/***
		 * 전자결재에서 사용할 variables 값을 설정 (사용시점 : draft, tempsave, modify doc)
		 */
		function getVariablesData() {
			return _variable;
		}

		/***
		 * 상신전 처리사항
		 */
		function beforeSave() {
		}

		/***
		 * 상신전 validate 처리
		 */
		function validateIntegrationData() {
			return true;
		}

		// 화면 emptyData 삭제
		function clearEmptyIntegrationData() {

		}

		return {
			setData : setData,
			validateIntegrationData : validateIntegrationData,
			render : render,
			getVariablesData : getVariablesData,
			beforeSave : beforeSave,
			clearEmptyIntegrationData : clearEmptyIntegrationData
		};
	})(); //Formfunc end

	Formfunc.setData(variablesData, GO.util.store.get('document.docMode'));
	Formfunc.render();

	/***
	 * core 부분에서 사용할수 있도록 jQuery 전역 객체에 함수를 바인딩. 
	 */
	$.goIntegrationForm = {
			getIntegrationData : function() {
				return Formfunc.getVariablesData();
			},
			validateIntegrationData : function() {
				return Formfunc.validateIntegrationData();
			},
			clearEmptyIntegrationData : function() {
				Formfunc.clearEmptyIntegrationData();
			},
			beforeSave : function() {
				Formfunc.beforeSave();
			}
	};
})();